<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN" "http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>
    <constant name="struts.enable.DynamicMethodInvocation" value="false" />
    <constant name="struts.devMode" value="false" />

    <package name="default" namespace="/" extends="json-default">
    	<interceptors>
    		<interceptor name="loginInterceptor" class="controller.interceptor.LoginInterceptor" />
			<interceptor-stack name="loginStack">
				<interceptor-ref name="defaultStack" />
				<interceptor-ref name="loginInterceptor" />
			</interceptor-stack>    		
    	</interceptors>
    	
    	<default-action-ref name="toMainPage" />

        <global-results>
            <result name="login" type="redirect">member/toLoginPage.action</result>
            <result name="error" type="redirect">toErrorPage.action</result>
        </global-results>

		<action name="toMainPage">
			<result>/jsp/Main.jsp</result>
		</action>
		
		<action name="toErrorPage">
			<result>/jsp/Error.jsp</result>
		</action>
		
		<action name="toRegistrationPage">
			<result>/jsp/Join.jsp</result>
		</action>
		
		<action name="toLoginPage">
			<result>/jsp/Login.jsp</result>
		</action>
		
		<action name="insertComponent" class="controller.action.TestAction" method="insertComponent">
			<result type="json"/>
		</action>
		
		<action name="getComponentList" class="controller.action.TestAction" method="receiveComponentList">
			<result type="json"/>
		</action>
		
		
	</package> 
	
	<include file="controller/struts/SearchController.xml"/>
	<include file="controller/struts/MemberController.xml"/>
	<include file="controller/struts/CustomerController.xml"/>
	<include file="controller/struts/EnterpriseController.xml"/>
</struts>
