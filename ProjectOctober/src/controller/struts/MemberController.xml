<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN" "http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>
	<package name="member" namespace="/member" extends="default">
	
		<action name="toEnterpriseRegistrationPage">
			<result>/jsp/member/EnterpriseRegistration1.jsp</result>
		</action>
		
		<action name="backToFirstRegistrationPage" class="controller.action.MemberAction" method="backToFirstRegistrationPage">
			<result >/jsp/member/EnterpriseRegistration1.jsp</result>
		</action>
		
		<action name="toRegCardCheckPage" class="controller.action.MemberAction" method="toRegCardCheckPage">
			<result>/jsp/member/UploadRegCard.jsp</result>
		</action>
		
		<action name="toEnterpriseRegistraionSecondPage" class="controller.action.MemberAction" method="toSecondRegistrationPage">
			<result name="success">/jsp/member/EnterpriseRegistration2.jsp</result>
			<result name="error">/Error.jsp</result>
		</action>
		
		<action name="toEnterpriseRegistraionThirdPage" class="controller.action.MemberAction" method="toThirdRegistrationPage">
			<result>/jsp/member/EnterpriseRegistration3.jsp</result>
		</action>
		
		<action name="toCustomerRegistrationPage">
			<result>/jsp/member/CustomerRegistration.jsp</result>
		</action>
		
		<action name="checkEnterpriseDuplicateEmail" class="controller.action.MemberAction" method="checkEnterpriseDuplicateEmail">
			<result type="json" />
		</action>
		
		<action name="checkEnterpriseDuplicateEtpNum" class="controller.action.MemberAction" method="checkEnterpriseDuplicateEtpNum">
			<result type="json" />
		</action>
		
		<action name="checkCustomerDuplicateEmail" class="controller.action.MemberAction" method="checkCustomerDuplicateEmail">
			<result type="json" />
		</action>
		
		<action name="toZipcodePage">
			<result>/jsp/member/Zipcode.jsp</result>
		</action>
		
		<action name="zipcode" class="controller.action.MemberAction" method="searchZipcode">
			<result name="success" type="dispatcher">
				<param name="location">/jsp/member/Zipcode.jsp</param>
			</result>
			<result name="error" type="dispatcher">
				<param name="location">/jsp/member/Zipcode.jsp</param>
			</result>
		</action>
		
		<action name="toLoginPage">
			<result>/jsp/member/Login.jsp</result>
		</action>
		
		<action name="loginProcess" class="controller.action.MemberAction" method="loginProcess">
			<result name="enterprise" type="chain">toEnterpriseMainPage.action</result>
			<result name="customer" type="chain">toCustomerMainPage.action</result>
			<result name="admin" type="chain">
				<param name="actionName">AllNoRegisterEtpList</param>
				<param name="namespace">/enterprise</param> 
			</result>
		</action>
		
		<action name="logoutProcess" class="controller.action.MemberAction" method="logoutProcess">
			<result type="chain">
				<param name="actionName">toMainPage</param>
				<param name="namespace">/</param>
			</result>
		</action>
				
		<action name="toEnterpriseMainPage" class="controller.action.MemberAction" method="retrieveEnterpriseInfo">
			<result name="template1"><!-- Enterprise 메인 페이지 (동적) --></result>
			<result name="template2"><!-- Enterprise 메인 페이지 (정적1) --></result>
			<result name="template3"><!-- Enterprise 메인 페이지 (정적2) --></result>	
		</action>
		
		<action name="toCustomerMainPage" class="controller.action.MemberAction" method="retrieveCustomerInfo">
			<result>Main.jsp</result>
		</action>
		
		
		<action name="regCardUploadAction" class="controller.action.FileUploadAction" method="uploadRegCard">
			<interceptor-ref name="fileUpload">
				<param name="allowedTypes">
					image/png,image/gif,image/jpeg,image/jpg
				</param>
			</interceptor-ref>
			<interceptor-ref name="defaultStack" />
			<result name="success">/jsp/member/UploadRegCard.jsp</result>
			<result name="input">/jsp/member/UploadRegCard.jsp</result>
		</action>
		
		<action name="finalizeRegistration" class="controller.action.MemberAction" method="finalizeRegistration">
			<result>/jsp/member/WelcomeEnterprise.jsp</result>
		</action>

	</package>
</struts>